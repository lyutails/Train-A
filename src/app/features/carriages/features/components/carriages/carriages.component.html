<div class="carriages_wrapper">
  <TTP-button
    (click)="createCarriage()"
    [type]="'button'"
    [width]="'10vw'"
    [buttonText]="'Create'"
    class="carriages_create-button"
  ></TTP-button>
  @if (create()) {
    <mat-form-field>
      <mat-label>Rows</mat-label>
      <mat-select [(ngModel)]="selectedRowsValue" name="possibleRows">
        @for (possibleRow of possibleRows; track possibleRow) {
          <mat-option [value]="possibleRow.value">{{ possibleRow.viewValue }}</mat-option>
        }
      </mat-select></mat-form-field
    >
    <mat-form-field>
      <mat-label>Left Seats</mat-label>
      <mat-select>
        @for (possibleLeftSeat of possibleLeftSeats; track possibleLeftSeat) {
          <mat-option [value]="possibleLeftSeat.value">{{ possibleLeftSeat.viewValue }}</mat-option>
        }
      </mat-select></mat-form-field
    >
    <mat-form-field>
      <mat-label>Right Seats</mat-label>
      <mat-select>
        @for (possibleRightSeat of possibleRightSeats; track possibleRightSeat) {
          <mat-option [value]="possibleRightSeat.value">{{ possibleRightSeat.viewValue }}</mat-option>
        }
      </mat-select></mat-form-field
    >
    <!-- <form class="carriages_carriage-shape" [formGroup]="carriageForm"></form> -->
  }
  @for (carriageItem of carriagesData; track carriageItem.name) {
    <div class="carriages_name">{{ carriageItem.name }}</div>
    <div class="carriages_total-seats">
      {{ carriageItem.rows * carriageItem.leftSeats + carriageItem.rows * carriageItem.rightSeats }}
    </div>
    <div class="carriages_rows">{{ carriageItem.rows }} rows</div>
    <div class="carriages_left-side">{{ carriageItem.leftSeats }} left seats</div>
    <div class="carriages_right-side">{{ carriageItem.rightSeats }} right seats</div>
    <form [formGroup]="retrievedCarriagesForm">
      <div class="carriages_seats"></div>
      <TTP-button
        (click)="postCarriages()"
        [type]="'submit'"
        [width]="'10vw'"
        [buttonText]="'Save'"
        class="carriages_save-button"
      ></TTP-button>
      <!-- <TTP-button (click)="updateCarriages(carriageItem.code, carriageItem)" [type]="'button'" [width]="'10vw'" [buttonText]="'Update'"></TTP-button> -->
      @for (row of [].constructor(carriageItem.rows); track index; let index = $index) {
        <TTP-carriage-row
          [rowNumber]="index + 1"
          [leftSeatCount]="carriageItem.leftSeats"
          [rightSeatCount]="carriageItem.rightSeats"
        ></TTP-carriage-row>
      }
    </form>
  }
  @if (update()) {
    <form>
      @for (testCarriage of testCarriagesArray; track testCarriage) {
        <mat-checkbox></mat-checkbox>
      }
    </form>
  }
  <!-- @for (testCarriage of testCarriagesArray; track testCarriage) {
    <div class="carriages_name">{{ testCarriage.name }}</div>
    <div class="carriages_total-seats">
      {{ testCarriage.rows * testCarriage.leftSeats + testCarriage.rows * testCarriage.rightSeats }}
    </div>
    <div class="carriages_rows">{{ testCarriage.rows }} rows</div>
    <div class="carriages_left-side">{{ testCarriage.leftSeats }} left seats</div>
    <div class="carriages_right-side">{{ testCarriage.rightSeats }} right seats</div>
    <form [formGroup]="carriageForm">
      <div class="carriages_seats"></div>
      <TTP-button (click)="fetch()" [type]="'submit'" [width]="'10vw'" [buttonText]="'Save'"></TTP-button>
      <TTP-button (click)="fetch()" [type]="'button'" [width]="'10vw'" [buttonText]="'Update'"></TTP-button>
      <mat-checkbox class="carriages_seat" [checked]></mat-checkbox>
    </form>
  } -->
</div>
